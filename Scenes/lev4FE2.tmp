[gd_scene load_steps=20 format=3 uid="uid://bks885eh43joq"]

[ext_resource type="Texture2D" uid="uid://7w8bxvkh34oo" path="res://Assets/tilemap.png" id="2_yj3cq"]
[ext_resource type="Texture2D" uid="uid://bvvp7i3ej1bg5" path="res://Assets/unlocked_door.png" id="3_4h4fc"]
[ext_resource type="PackedScene" uid="uid://b1lqmbc8hl0dm" path="res://Scenes/gridcat.tscn" id="3_nwudf"]
[ext_resource type="Texture2D" uid="uid://n6abpqikd4kk" path="res://Assets/locked_door.png" id="4_7v8gr"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ok878"]
resource_name = "LockedDoor"
texture = ExtResource("4_7v8gr")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_s0fru"]
resource_name = "UnlockedDoor"
texture = ExtResource("3_4h4fc")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bby6h"]
resource_name = "Steel"
texture = ExtResource("2_yj3cq")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/bottom_right_corner = 0
0:0/0/terrains_peering_bit/bottom_side = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0/terrains_peering_bit/right_side = 0
1:0/0/terrains_peering_bit/bottom_right_corner = 0
1:0/0/terrains_peering_bit/bottom_side = 0
1:0/0/terrains_peering_bit/bottom_left_corner = 0
1:0/0/terrains_peering_bit/left_side = 0
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/terrains_peering_bit/bottom_left_corner = 0
2:0/0/terrains_peering_bit/left_side = 0
3:0/0 = 0
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0/terrains_peering_bit/bottom_side = 0
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0/terrains_peering_bit/right_side = 0
0:1/0/terrains_peering_bit/bottom_right_corner = 0
0:1/0/terrains_peering_bit/bottom_side = 0
0:1/0/terrains_peering_bit/top_side = 0
0:1/0/terrains_peering_bit/top_right_corner = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0/terrains_peering_bit/right_side = 0
1:1/0/terrains_peering_bit/bottom_right_corner = 0
1:1/0/terrains_peering_bit/bottom_side = 0
1:1/0/terrains_peering_bit/bottom_left_corner = 0
1:1/0/terrains_peering_bit/left_side = 0
1:1/0/terrains_peering_bit/top_left_corner = 0
1:1/0/terrains_peering_bit/top_side = 0
1:1/0/terrains_peering_bit/top_right_corner = 0
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0/terrains_peering_bit/bottom_side = 0
2:1/0/terrains_peering_bit/bottom_left_corner = 0
2:1/0/terrains_peering_bit/left_side = 0
2:1/0/terrains_peering_bit/top_left_corner = 0
2:1/0/terrains_peering_bit/top_side = 0
3:1/0 = 0
3:1/0/terrain_set = 0
3:1/0/terrain = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0/terrains_peering_bit/bottom_side = 0
3:1/0/terrains_peering_bit/top_side = 0
0:2/0 = 0
0:2/0/terrain_set = 0
0:2/0/terrain = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0/terrains_peering_bit/right_side = 0
0:2/0/terrains_peering_bit/top_side = 0
0:2/0/terrains_peering_bit/top_right_corner = 0
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/terrain = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0/terrains_peering_bit/right_side = 0
1:2/0/terrains_peering_bit/left_side = 0
1:2/0/terrains_peering_bit/top_left_corner = 0
1:2/0/terrains_peering_bit/top_side = 0
1:2/0/terrains_peering_bit/top_right_corner = 0
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/terrains_peering_bit/top_left_corner = 0
2:2/0/terrains_peering_bit/top_side = 0
3:2/0 = 0
3:2/0/terrain_set = 0
3:2/0/terrain = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:2/0/terrains_peering_bit/top_side = 0
0:3/0 = 0
0:3/0/terrain_set = 0
0:3/0/terrain = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0/terrains_peering_bit/right_side = 0
1:3/0 = 0
1:3/0/terrain_set = 0
1:3/0/terrain = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0/terrains_peering_bit/right_side = 0
1:3/0/terrains_peering_bit/left_side = 0
2:3/0 = 0
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0/terrains_peering_bit/left_side = 0
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:3/0/physics_layer_0/angular_velocity = 0.0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_b172h"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 2
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Steel"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/3 = SubResource("TileSetAtlasSource_bby6h")
sources/1 = SubResource("TileSetAtlasSource_ok878")
sources/2 = SubResource("TileSetAtlasSource_s0fru")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6hcvo"]
size = Vector2(32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lqubf"]
atlas = ExtResource("4_7v8gr")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hcgfo"]
atlas = ExtResource("4_7v8gr")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k041x"]
atlas = ExtResource("4_7v8gr")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n77ki"]
atlas = ExtResource("4_7v8gr")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7hm8v"]
atlas = ExtResource("4_7v8gr")
region = Rect2(96, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_jbwnb"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lqubf")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hcgfo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k041x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n77ki")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7hm8v")
}],
"loop": true,
"name": &"lock",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_4miru"]
atlas = ExtResource("3_4h4fc")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qiy5s"]
atlas = ExtResource("3_4h4fc")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0amvw"]
atlas = ExtResource("3_4h4fc")
region = Rect2(32, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_d4nt1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4miru")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qiy5s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0amvw")
}],
"loop": true,
"name": &"unlock",
"speed": 5.0
}]

[node name="Level1" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_b172h")
format = 2
layer_0/name = "Steel"
layer_0/tile_data = PackedInt32Array(65540, 131075, 3, 65539, 65539, 3, 65538, 65539, 3, 65537, 65539, 3, -262141, 196611, 0, -196605, 196611, 1, -131069, 196611, 1, -65533, 196611, 2, -196613, 3, 3, -196612, 65539, 3, -196611, 65539, 3, -196610, 65539, 3, -196609, 131075, 3, -65540, 3, 3, -65539, 65539, 3, 131066, 3, 3, 131067, 131075, 3, -196614, 196611, 0, -131078, 196611, 1, -65542, 196611, 1, -262143, 196611, 1, -655359, 196611, 0, -589823, 196611, 1, -524287, 196611, 1, -458751, 196611, 1, -393215, 196611, 1, -327679, 196611, 1, 393213, 196611, 2, 327677, 196611, 1, 262141, 196611, 1, 196605, 196611, 1, 196609, 65539, 3, 196608, 65539, 3, 262143, 3, 3, 327681, 131075, 3, 327680, 65539, 3, 393215, 3, 3, 196611, 131075, 3, 196610, 65539, 3, 458755, 196611, 2, 393219, 196611, 1, 327683, 196611, 1, 262147, 196611, 1, 458753, 131075, 3, 458752, 65539, 3, 524287, 65539, 3, 524282, 196611, 0, 524283, 65539, 3, 524284, 65539, 3, 524285, 65539, 3, 524286, 65539, 3, 393209, 3, 3, 393210, 65539, 3, 393211, 65539, 3, 393212, 131075, 3, 589818, 196611, 2, 655352, 196611, 1, 589816, 196611, 1, 524280, 196611, 1, 458744, 196611, 1, 393208, 196611, 0, 720888, 196611, 2, 655361, 131075, 3, 655360, 65539, 3, 720895, 65539, 3, 720894, 65539, 3, 720893, 65539, 3, 720892, 65539, 3, 720891, 65539, 3, 720890, 65539, 3, 720889, 65539, 3, -6, 196611, 2, -196607, 196611, 2, -65535, 131075, 3, -65536, 65539, 3, 65536, 3, 3, 131071, 196611, 2, 65535, 196611, 1, -1, 196611, 1, -65538, 65539, 3, -65537, 131075, 3, 131069, 196611, 0, 3, 1, 1, 2, 2, 1)
layer_1/name = "UnlockedDoors"
layer_1/tile_data = PackedInt32Array()
layer_2/name = "LockedDoors"
layer_2/tile_data = PackedInt32Array()

[node name="Gridcat" parent="." instance=ExtResource("3_nwudf")]

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Doors" type="Node2D" parent="."]

[node name="Door" type="Area2D" parent="Doors"]
position = Vector2(400, -80)
collision_layer = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Doors/Door"]
shape = SubResource("RectangleShape2D_6hcvo")

[node name="LockedDoor" type="AnimatedSprite2D" parent="Doors/Door"]
sprite_frames = SubResource("SpriteFrames_jbwnb")
animation = &"idle"

[node name="UnlockedDoor" type="AnimatedSprite2D" parent="Doors/Door"]
sprite_frames = SubResource("SpriteFrames_d4nt1")
animation = &"idle"
